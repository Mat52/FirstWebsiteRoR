<% if @posts.any? %>
  <% @posts.each do |post| %>
    <%= link_to post_path(post), data: { turbo_frame: "_top" }, class: "group block" do %>
      <div class="w-full rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300 <%= 'border-2 border-yellow-400' if post.pro %>">
        
        <% if post.video_url.present? %>
          <div class="relative aspect-video rounded-t-xl overflow-hidden">
            <%= image_tag youtube_thumbnail(post.video_url),
                  class: "w-full h-full object-cover transition duration-300 group-hover:brightness-75" %>
          </div>

          <!-- Center Play Button -->
          <div class="absolute inset-0 flex items-center justify-center">
            <div class="bg-white/90 rounded-full p-3 shadow-md transition-transform duration-300 group-hover:scale-110">
              <svg class="w-6 h-6 text-black" fill="currentColor" viewBox="0 0 20 20">
                <path d="M6 4l10 6-10 6V4z" />
              </svg>
            </div>
          </div>
        <% end %>
      <div class="p-4 bg-white rounded-b-xl">
        <div class="flex items-center justify-between mb-2">
            <h3 class="text-lg font-semibold text-gray-900 line-clamp-2">
                <%= truncate(post.title, length: 65) %>
            </h3>
            <% if post.pro %>
             <span class="inline-block bg-yellow-300 text-yellow-900 text-xs font-semibold px-2 py-1 rounded-full">
                PRO
             </span>
            <% end %>
        </div>

        <p class="text-xs text-gray-400">
            <%= post.created_at.strftime("%B %-d, %Y") %>
        </p>
        </div>

        </div>

        <% end %> <!-- closes link_to block -->
    <% end %> <!-- closes each loop -->
    <% else %>
        <p class="text-center my-10 text-gray-500">
            No posts yet. Check back soon for new content.
    </p>
<% end %> <!-- closes if any? -->